<!DOCTYPE HTML>
<html lang="pt">
<head>
<!-- Generated by javadoc (21) on Fri Jul 12 20:05:51 WEST 2024 -->
<title>UserBean</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-07-12">
<meta name="description" content="declaration: package: aor.fpbackend.bean, class: UserBean">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">aor.fpbackend.bean</a></div>
<h1 title="Class UserBean" class="title">Class UserBean</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">aor.fpbackend.bean.UserBean</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">UserBean</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">UserBean is a stateless EJB that provides services for user management, including registration,
 authentication, profile updates, and password management.
 <br>
 This bean handles the core logic for user-related operations, interacting with various DAO
 and utility classes to perform tasks such as encoding passwords, sending emails, and managing sessions.
 It ensures the integrity and security of user data by performing necessary checks and validations
 before persisting or updating any information.
 <br>
 <br>
 Technologies Used:
 <ul>
     <li><b>Java EE</b>: For building the EJB and managing transactions.</li>
     <li><b>BCrypt</b>: For password hashing and validation via <a href="../utils/PassEncoder.html" title="class in aor.fpbackend.utils"><code>PassEncoder</code></a>.</li>
     <li><b>JWT</b>: For token generation and validation via <a href="SessionBean.html" title="class in aor.fpbackend.bean"><code>SessionBean</code></a>.</li>
     <li><b>JPA</b>: For database interactions via DAOs.</li>
     <li><b>Jakarta EE</b>: For RESTful web services and dependency injection.</li>
     <li><b>SLF4J</b>: For logging operations.</li>
 </ul>
 <br>
 <br>
 Dependencies are injected using the <code>EJB</code> annotation, which includes DAOs for user, session, role,
 and laboratory entities, as well as utility classes for password encoding, email services,
 and session management.
 <br></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../serialized-form.html#aor.fpbackend.bean.UserBean">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">UserBean</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#confirmUser(java.lang.String)" class="member-name-link">confirmUser</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Confirms a user's registration using the provided confirmation token.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertUserEntityListToUserBasicInfoDtoList(java.util.List)" class="member-name-link">convertUserEntityListToUserBasicInfoDtoList</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/UserEntity.html" title="class in aor.fpbackend.entity">UserEntity</a>&gt;&nbsp;userEntities)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts a list of UserEntity objects to a list of UserBasicInfoDto objects.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertUserEntitytoUserBasicInfoDto(aor.fpbackend.entity.UserEntity)" class="member-name-link">convertUserEntitytoUserBasicInfoDto</a><wbr>(<a href="../entity/UserEntity.html" title="class in aor.fpbackend.entity">UserEntity</a>&nbsp;userEntity)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts a UserEntity object to a UserBasicInfoDto object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dto/User/UserProfileDto.html" title="class in aor.fpbackend.dto.User">UserProfileDto</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertUserEntitytoUserProfileDto(aor.fpbackend.entity.UserEntity)" class="member-name-link">convertUserEntitytoUserProfileDto</a><wbr>(<a href="../entity/UserEntity.html" title="class in aor.fpbackend.entity">UserEntity</a>&nbsp;userEntity)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts a UserEntity object to a UserProfileDto object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entity/UserEntity.html" title="class in aor.fpbackend.entity">UserEntity</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertUserRegisterDtotoUserEntity(aor.fpbackend.dto.User.UserRegisterDto)" class="member-name-link">convertUserRegisterDtotoUserEntity</a><wbr>(<a href="../dto/User/UserRegisterDto.html" title="class in aor.fpbackend.dto.User">UserRegisterDto</a>&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts a UserRegisterDto object to a UserEntity object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createDefaultUserIfNotExistent(java.lang.String,java.lang.String,long,long)" class="member-name-link">createDefaultUserIfNotExistent</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;photo,
 long&nbsp;roleId,
 long&nbsp;labId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a default user with the specified username, photo, role, and laboratory if the username does not already exist.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dto/User/UserProfileDto.html" title="class in aor.fpbackend.dto.User">UserProfileDto</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getProfileDto(java.lang.String,jakarta.ws.rs.core.SecurityContext)" class="member-name-link">getProfileDto</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 jakarta.ws.rs.core.SecurityContext&nbsp;securityContext)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the profile information of a user by their username.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUserBasicInfo(jakarta.ws.rs.core.SecurityContext)" class="member-name-link">getUserBasicInfo</a><wbr>(jakarta.ws.rs.core.SecurityContext&nbsp;securityContext)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the basic information of the authenticated user.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUserBasicInfo(java.lang.String)" class="member-name-link">getUserBasicInfo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;Username)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the basic information of a user by their username.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../dto/User/UserMessageInfoDto.html" title="class in aor.fpbackend.dto.User">UserMessageInfoDto</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUserEmailRecipientByFirstLetter(java.lang.String)" class="member-name-link">getUserEmailRecipientByFirstLetter</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;firstLetter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves a list of basic information for users whose usernames or first name start with the specified first letter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUsersBasicInfoByFirstLetter(java.lang.String)" class="member-name-link">getUsersBasicInfoByFirstLetter</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;firstLetter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves a list of basic information for users whose usernames start with the specified first letter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUsersListBasicInfo(jakarta.ws.rs.core.SecurityContext)" class="member-name-link">getUsersListBasicInfo</a><wbr>(jakarta.ws.rs.core.SecurityContext&nbsp;securityContext)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves a list of basic information for all registered users except the logged-in user.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#register(aor.fpbackend.dto.User.UserRegisterDto)" class="member-name-link">register</a><wbr>(<a href="../dto/User/UserRegisterDto.html" title="class in aor.fpbackend.dto.User">UserRegisterDto</a>&nbsp;userRgDto)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Registers a new user in the system.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#requestNewConfirmationEmail(aor.fpbackend.dto.Email.EmailDto)" class="member-name-link">requestNewConfirmationEmail</a><wbr>(<a href="../dto/Email/EmailDto.html" title="class in aor.fpbackend.dto.Email">EmailDto</a>&nbsp;email)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Service responsible for requesting the resend of a registration confirmation email.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#requestPasswordReset(aor.fpbackend.dto.Password.PasswordRequestResetDto)" class="member-name-link">requestPasswordReset</a><wbr>(<a href="../dto/Password/PasswordRequestResetDto.html" title="class in aor.fpbackend.dto.Password">PasswordRequestResetDto</a>&nbsp;passwordRequestResetDto)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Requests a password reset for a user identified by the provided email.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resetPassword(aor.fpbackend.dto.Password.PasswordResetDto)" class="member-name-link">resetPassword</a><wbr>(<a href="../dto/Password/PasswordResetDto.html" title="class in aor.fpbackend.dto.Password">PasswordResetDto</a>&nbsp;passwordResetDto)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Service responsible for resetting the user's password.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updatePassword(aor.fpbackend.dto.Password.PasswordUpdateDto,jakarta.ws.rs.core.SecurityContext)" class="member-name-link">updatePassword</a><wbr>(<a href="../dto/Password/PasswordUpdateDto.html" title="class in aor.fpbackend.dto.Password">PasswordUpdateDto</a>&nbsp;passwordUpdateDto,
 jakarta.ws.rs.core.SecurityContext&nbsp;securityContext)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the password of the authenticated user.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateRole(aor.fpbackend.dto.User.UserUpdateRoleDto)" class="member-name-link">updateRole</a><wbr>(<a href="../dto/User/UserUpdateRoleDto.html" title="class in aor.fpbackend.dto.User">UserUpdateRoleDto</a>&nbsp;userUpdateRoleDto)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the role of a user.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateUserProfile(jakarta.ws.rs.core.SecurityContext,aor.fpbackend.dto.User.UserUpdateDto)" class="member-name-link">updateUserProfile</a><wbr>(jakarta.ws.rs.core.SecurityContext&nbsp;securityContext,
 <a href="../dto/User/UserUpdateDto.html" title="class in aor.fpbackend.dto.User">UserUpdateDto</a>&nbsp;updatedUser)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the authenticated user's profile with the provided details.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>UserBean</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">UserBean</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="register(aor.fpbackend.dto.User.UserRegisterDto)">
<h3>register</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">register</span><wbr><span class="parameters">(<a href="../dto/User/UserRegisterDto.html" title="class in aor.fpbackend.dto.User">UserRegisterDto</a>&nbsp;userRgDto)</span>
              throws <span class="exceptions"><a href="../exception/InvalidCredentialsException.html" title="class in aor.fpbackend.exception">InvalidCredentialsException</a>,
<a href="../exception/EntityNotFoundException.html" title="class in aor.fpbackend.exception">EntityNotFoundException</a></span></div>
<div class="block">Registers a new user in the system.
 <br>
 This method performs several tasks to register a user:
 <ul>
     <li>Checks if the email or username already exists.</li>
     <li>Encodes the user's password.</li>
     <li>Assigns the default role and the specified laboratory to the user.</li>
     <li>Sets default parameters for the new user.</li>
     <li>Generates a confirmation token and sends a confirmation email.</li>
     <li>Persists the new user entity in the database.</li>
 </ul>
 <br></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userRgDto</code> - the data transfer object containing user registration details.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/InvalidCredentialsException.html" title="class in aor.fpbackend.exception">InvalidCredentialsException</a></code> - if the email or username already exists, or if there is an error during user persistence.</dd>
<dd><code><a href="../exception/EntityNotFoundException.html" title="class in aor.fpbackend.exception">EntityNotFoundException</a></code> - if the default role or laboratory is not found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="confirmUser(java.lang.String)">
<h3>confirmUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">confirmUser</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</span>
                 throws <span class="exceptions"><a href="../exception/InputValidationException.html" title="class in aor.fpbackend.exception">InputValidationException</a>,
<a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></span></div>
<div class="block">Confirms a user's registration using the provided confirmation token.
 <br>
 This method performs the following steps:
 <ul>
     <li>Validates the provided token to ensure it is not null or empty.</li>
     <li>Retrieves the user associated with the confirmation token.</li>
     <li>Confirms the user's registration by setting the confirmation status to true and clearing the confirmation token and timestamp.</li>
     <li>Logs the operation and clears the ThreadContext to ensure no residual data remains.</li>
 </ul>
 <br></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - the confirmation token used to validate and confirm the user's registration.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/InputValidationException.html" title="class in aor.fpbackend.exception">InputValidationException</a></code> - if the provided token is null or empty.</dd>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if no user is found for the provided confirmation token.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="requestPasswordReset(aor.fpbackend.dto.Password.PasswordRequestResetDto)">
<h3>requestPasswordReset</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">requestPasswordReset</span><wbr><span class="parameters">(<a href="../dto/Password/PasswordRequestResetDto.html" title="class in aor.fpbackend.dto.Password">PasswordRequestResetDto</a>&nbsp;passwordRequestResetDto)</span>
                          throws <span class="exceptions"><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a>,
<a href="../exception/ForbiddenAccessException.html" title="class in aor.fpbackend.exception">ForbiddenAccessException</a></span></div>
<div class="block">Requests a password reset for a user identified by the provided email.
 <p>
 This method performs the following steps:
 <ul>
     <li>Validates the email to ensure the user exists.</li>
     <li>Checks if a password reset request was made recently.</li>
     <li>Generates a new password reset token and sets a timestamp to prevent immediate subsequent requests.</li>
     <li>Sends a password reset email to the user with the reset token.</li>
     <li>Logs the operation and clears the ThreadContext to ensure no residual data remains.</li>
 </ul>
 <br></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>passwordRequestResetDto</code> - the data transfer object containing the user's email for the password reset request.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if no user is found for the provided email.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a password reset request has been made recently.</dd>
<dd><code><a href="../exception/ForbiddenAccessException.html" title="class in aor.fpbackend.exception">ForbiddenAccessException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="requestNewConfirmationEmail(aor.fpbackend.dto.Email.EmailDto)">
<h3>requestNewConfirmationEmail</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">requestNewConfirmationEmail</span><wbr><span class="parameters">(<a href="../dto/Email/EmailDto.html" title="class in aor.fpbackend.dto.Email">EmailDto</a>&nbsp;email)</span>
                                 throws <span class="exceptions"><a href="../exception/InvalidRequestOnRegistConfirmationException.html" title="class in aor.fpbackend.exception">InvalidRequestOnRegistConfirmationException</a></span></div>
<div class="block">Service responsible for requesting the resend of a registration confirmation email.
 <p>
 This method checks if the user exists, if they have already been confirmed, and if they are not
 requesting confirmation emails too frequently before sending a new confirmation email.
 <br></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>email</code> - the DTO containing the email of the user requesting the resend of the confirmation email.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/InvalidRequestOnRegistConfirmationException.html" title="class in aor.fpbackend.exception">InvalidRequestOnRegistConfirmationException</a></code> - if the user is not found,
         has already been confirmed, or is requesting confirmation emails
         at intervals shorter than allowed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetPassword(aor.fpbackend.dto.Password.PasswordResetDto)">
<h3>resetPassword</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetPassword</span><wbr><span class="parameters">(<a href="../dto/Password/PasswordResetDto.html" title="class in aor.fpbackend.dto.Password">PasswordResetDto</a>&nbsp;passwordResetDto)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a>,
<a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a>,
<a href="../exception/ForbiddenAccessException.html" title="class in aor.fpbackend.exception">ForbiddenAccessException</a></span></div>
<div class="block">Service responsible for resetting the user's password.
 <p>
 This method validates the reset token, checks if it has not expired,
 and then updates the user's password. If the token is invalid or expired,
 appropriate exceptions are thrown.
 <br></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>passwordResetDto</code> - the DTO containing the reset token and the new password.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the reset token has expired.</dd>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if the user associated with the reset token is not found.</dd>
<dd><code><a href="../exception/ForbiddenAccessException.html" title="class in aor.fpbackend.exception">ForbiddenAccessException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateUserProfile(jakarta.ws.rs.core.SecurityContext,aor.fpbackend.dto.User.UserUpdateDto)">
<h3>updateUserProfile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateUserProfile</span><wbr><span class="parameters">(@Context
 jakarta.ws.rs.core.SecurityContext&nbsp;securityContext,
 <a href="../dto/User/UserUpdateDto.html" title="class in aor.fpbackend.dto.User">UserUpdateDto</a>&nbsp;updatedUser)</span>
                       throws <span class="exceptions"><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a>,
<a href="../exception/EntityNotFoundException.html" title="class in aor.fpbackend.exception">EntityNotFoundException</a>,
<a href="../exception/DatabaseOperationException.html" title="class in aor.fpbackend.exception">DatabaseOperationException</a></span></div>
<div class="block">Updates the authenticated user's profile with the provided details.
 <p>
 This method performs the following steps:
 <ul>
     <li>Retrieves the authenticated user's entity from the database.</li>
     <li>Validates and updates the user's profile details (first name, last name, photo, laboratory, biography, and privacy setting).</li>
     <li>Persists the updated user entity in the database.</li>
     <li>Logs the profile update operation for auditing purposes.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>securityContext</code> - the security context containing the authenticated user's details.</dd>
<dd><code>updatedUser</code> - the DTO containing the updated user profile details.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if the authenticated user is not found.</dd>
<dd><code><a href="../exception/EntityNotFoundException.html" title="class in aor.fpbackend.exception">EntityNotFoundException</a></code> - if the specified laboratory is not found.</dd>
<dd><code><a href="../exception/DatabaseOperationException.html" title="class in aor.fpbackend.exception">DatabaseOperationException</a></code> - if an error occurs while persisting the updated profile.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserBasicInfo(jakarta.ws.rs.core.SecurityContext)">
<h3>getUserBasicInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a></span>&nbsp;<span class="element-name">getUserBasicInfo</span><wbr><span class="parameters">(@Context
 jakarta.ws.rs.core.SecurityContext&nbsp;securityContext)</span>
                                  throws <span class="exceptions"><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></span></div>
<div class="block">Retrieves the basic information of the authenticated user.
 <p>
 This method performs the following steps:
 <ul>
     <li>Retrieves the authenticated user's entity from the database using their ID.</li>
     <li>Converts the user entity to a UserBasicInfoDto object.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>securityContext</code> - the security context containing the authenticated user's details.</dd>
<dt>Returns:</dt>
<dd>a UserBasicInfoDto object representing the authenticated user's basic information.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if the authenticated user is not found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserBasicInfo(java.lang.String)">
<h3>getUserBasicInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a></span>&nbsp;<span class="element-name">getUserBasicInfo</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;Username)</span>
                                  throws <span class="exceptions"><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></span></div>
<div class="block">Retrieves the basic information of a user by their username.
 <p>
 This method performs the following steps:
 <ul>
     <li>Retrieves the user entity from the database by the provided username.</li>
     <li>Converts the user entity to a UserBasicInfoDto object.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>Username</code> - the username of the user whose basic information is to be retrieved.</dd>
<dt>Returns:</dt>
<dd>a UserBasicInfoDto object representing the user's basic information.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if no user is found for the provided username.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUsersListBasicInfo(jakarta.ws.rs.core.SecurityContext)">
<h3>getUsersListBasicInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a>&gt;</span>&nbsp;<span class="element-name">getUsersListBasicInfo</span><wbr><span class="parameters">(jakarta.ws.rs.core.SecurityContext&nbsp;securityContext)</span>
                                             throws <span class="exceptions"><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></span></div>
<div class="block">Retrieves a list of basic information for all registered users except the logged-in user.
 <p>
 This method performs the following steps:
 <ul>
     <li>Fetches all user entities from the database except the logged-in user.</li>
     <li>Converts the list of user entities to a list of UserBasicInfoDto objects.</li>
 </ul>
 </p>
 Note: Security and access control are managed at the endpoint level.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>securityContext</code> - the security context containing the authenticated user's details</dd>
<dt>Returns:</dt>
<dd>a list of UserBasicInfoDto objects representing the basic information of all registered users except the logged-in user</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if the logged-in user is not found in the security context</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUsersBasicInfoByFirstLetter(java.lang.String)">
<h3>getUsersBasicInfoByFirstLetter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a>&gt;</span>&nbsp;<span class="element-name">getUsersBasicInfoByFirstLetter</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;firstLetter)</span></div>
<div class="block">Retrieves a list of basic information for users whose usernames start with the specified first letter.
 <p>
 This method performs the following steps:
 <ul>
     <li>Validates the input to ensure it is a single alphabetic character.</li>
     <li>Converts the first letter to lowercase to ensure case-insensitive matching.</li>
     <li>Fetches the user entities from the database whose usernames start with the specified letter.</li>
     <li>Converts the list of user entities to a list of UserBasicInfoDto objects.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>firstLetter</code> - the first letter to filter usernames by. It should be a single alphabetic character.</dd>
<dt>Returns:</dt>
<dd>a list of UserBasicInfoDto objects representing the basic information of users whose usernames start with the specified letter.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserEmailRecipientByFirstLetter(java.lang.String)">
<h3>getUserEmailRecipientByFirstLetter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dto/User/UserMessageInfoDto.html" title="class in aor.fpbackend.dto.User">UserMessageInfoDto</a>&gt;</span>&nbsp;<span class="element-name">getUserEmailRecipientByFirstLetter</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;firstLetter)</span></div>
<div class="block">Retrieves a list of basic information for users whose usernames or first name start with the specified first letter.
 <p>
 This method performs the following steps:
 <ul>
     <li>Validates the input to ensure it is a single alphabetic character.</li>
     <li>Converts the first letter to lowercase to ensure case-insensitive matching.</li>
     <li>Fetches the user entities from the database whose usernames or first name start with the specified letter.</li>
     <li>Converts the list of user entities to a list of UserBasicInfoDto objects.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>firstLetter</code> - the first letter to filter usernames or first name by. It should be a single alphabetic character.</dd>
<dt>Returns:</dt>
<dd>a list of UserMessageInfoDto objects representing the basic information of users whose usernames start with the specified letter.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getProfileDto(java.lang.String,jakarta.ws.rs.core.SecurityContext)">
<h3>getProfileDto</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dto/User/UserProfileDto.html" title="class in aor.fpbackend.dto.User">UserProfileDto</a></span>&nbsp;<span class="element-name">getProfileDto</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 @Context
 jakarta.ws.rs.core.SecurityContext&nbsp;securityContext)</span>
                             throws <span class="exceptions"><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a>,
<a href="../exception/ForbiddenAccessException.html" title="class in aor.fpbackend.exception">ForbiddenAccessException</a></span></div>
<div class="block">Retrieves the profile information of a user by their username.
 <p>
 This method performs the following steps:
 <ul>
     <li>Retrieves the authenticated user's details from the security context.</li>
     <li>Fetches the user entity from the database by the provided username.</li>
     <li>Checks if the user entity is private and if the authenticated user has permission to access it.</li>
     <li>Checks if the user is fetching his own profile</li>
     <li>Converts the user entity to a UserProfileDto object.</li>
     <li>Logs the operation for auditing purposes.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>username</code> - the username of the user whose profile information is to be retrieved.</dd>
<dd><code>securityContext</code> - the security context containing the authenticated user's details.</dd>
<dt>Returns:</dt>
<dd>a UserProfileDto object representing the user's profile information.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if no user is found for the provided username.</dd>
<dd><code><a href="../exception/ForbiddenAccessException.html" title="class in aor.fpbackend.exception">ForbiddenAccessException</a></code> - if the user profile is private and the authenticated user does not have permission to access it.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updatePassword(aor.fpbackend.dto.Password.PasswordUpdateDto,jakarta.ws.rs.core.SecurityContext)">
<h3>updatePassword</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updatePassword</span><wbr><span class="parameters">(<a href="../dto/Password/PasswordUpdateDto.html" title="class in aor.fpbackend.dto.Password">PasswordUpdateDto</a>&nbsp;passwordUpdateDto,
 @Context
 jakarta.ws.rs.core.SecurityContext&nbsp;securityContext)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a>,
<a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a>,
<a href="../exception/InputValidationException.html" title="class in aor.fpbackend.exception">InputValidationException</a></span></div>
<div class="block">Updates the password of the authenticated user.
 <p>
 This method performs the following steps:
 <ul>
     <li>Retrieves the authenticated user's details from the security context.</li>
     <li>Validates the old password provided by the user.</li>
     <li>Encodes the new password and updates the user entity.</li>
     <li>Logs the operation for auditing purposes.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>passwordUpdateDto</code> - the DTO containing the old and new passwords.</dd>
<dd><code>securityContext</code> - the security context containing the authenticated user's details.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if an error occurs while updating the password.</dd>
<dd><code><a href="../exception/UserNotFoundException.html" title="class in aor.fpbackend.exception">UserNotFoundException</a></code> - if the authenticated user is not found.</dd>
<dd><code><a href="../exception/InputValidationException.html" title="class in aor.fpbackend.exception">InputValidationException</a></code> - if the old password is incorrect or the new password is invalid.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateRole(aor.fpbackend.dto.User.UserUpdateRoleDto)">
<h3>updateRole</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateRole</span><wbr><span class="parameters">(<a href="../dto/User/UserUpdateRoleDto.html" title="class in aor.fpbackend.dto.User">UserUpdateRoleDto</a>&nbsp;userUpdateRoleDto)</span>
                throws <span class="exceptions"><a href="../exception/InvalidCredentialsException.html" title="class in aor.fpbackend.exception">InvalidCredentialsException</a>,
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/UnknownHostException.html" title="class or interface in java.net" class="external-link">UnknownHostException</a>,
<a href="../exception/EntityNotFoundException.html" title="class in aor.fpbackend.exception">EntityNotFoundException</a></span></div>
<div class="block">Updates the role of a user.
 <p>
 This method performs the following steps:
 <ul>
     <li>Retrieves the user entity from the database using the user ID provided in the DTO.</li>
     <li>Validates the existence of the user and the new role.</li>
     <li>Updates the user's role with the new role.</li>
     <li>Logs the operation for auditing purposes.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userUpdateRoleDto</code> - the DTO containing the user ID and the new role ID.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/InvalidCredentialsException.html" title="class in aor.fpbackend.exception">InvalidCredentialsException</a></code> - if the user is not found.</dd>
<dd><code><a href="../exception/EntityNotFoundException.html" title="class in aor.fpbackend.exception">EntityNotFoundException</a></code> - if the new role is not found.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if an error occurs while updating the user role.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/UnknownHostException.html" title="class or interface in java.net" class="external-link">UnknownHostException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createDefaultUserIfNotExistent(java.lang.String,java.lang.String,long,long)">
<h3>createDefaultUserIfNotExistent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createDefaultUserIfNotExistent</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;photo,
 long&nbsp;roleId,
 long&nbsp;labId)</span>
                                    throws <span class="exceptions"><a href="../exception/DatabaseOperationException.html" title="class in aor.fpbackend.exception">DatabaseOperationException</a></span></div>
<div class="block">Creates a default user with the specified username, photo, role, and laboratory if the username does not already exist.
 <p>
 This method performs the following steps:
 <ul>
     <li>Checks if the username already exists in the database.</li>
     <li>If the username does not exist, constructs a default email and encrypted password.</li>
     <li>Retrieves the specified laboratory and role entities from the database.</li>
     <li>Creates and persists a new user entity with the provided details.</li>
     <li>Logs the operation for auditing purposes.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>username</code> - the username of the user to be created.</dd>
<dd><code>photo</code> - the photo URL for the user.</dd>
<dd><code>roleId</code> - the ID of the role to be assigned to the user.</dd>
<dd><code>labId</code> - the ID of the laboratory to be assigned to the user.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/DatabaseOperationException.html" title="class in aor.fpbackend.exception">DatabaseOperationException</a></code> - if an error occurs while creating the user.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the specified laboratory or role is not found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertUserRegisterDtotoUserEntity(aor.fpbackend.dto.User.UserRegisterDto)">
<h3>convertUserRegisterDtotoUserEntity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entity/UserEntity.html" title="class in aor.fpbackend.entity">UserEntity</a></span>&nbsp;<span class="element-name">convertUserRegisterDtotoUserEntity</span><wbr><span class="parameters">(<a href="../dto/User/UserRegisterDto.html" title="class in aor.fpbackend.dto.User">UserRegisterDto</a>&nbsp;user)</span></div>
<div class="block">Converts a UserRegisterDto object to a UserEntity object.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>user</code> - the UserRegisterDto containing the user registration data.</dd>
<dt>Returns:</dt>
<dd>a UserEntity object populated with the data from the DTO.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertUserEntitytoUserProfileDto(aor.fpbackend.entity.UserEntity)">
<h3>convertUserEntitytoUserProfileDto</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dto/User/UserProfileDto.html" title="class in aor.fpbackend.dto.User">UserProfileDto</a></span>&nbsp;<span class="element-name">convertUserEntitytoUserProfileDto</span><wbr><span class="parameters">(<a href="../entity/UserEntity.html" title="class in aor.fpbackend.entity">UserEntity</a>&nbsp;userEntity)</span></div>
<div class="block">Converts a UserEntity object to a UserProfileDto object.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEntity</code> - the UserEntity containing the user data.</dd>
<dt>Returns:</dt>
<dd>a UserProfileDto object populated with the data from the entity.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the laboratory of the user is null.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertUserEntitytoUserBasicInfoDto(aor.fpbackend.entity.UserEntity)">
<h3>convertUserEntitytoUserBasicInfoDto</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a></span>&nbsp;<span class="element-name">convertUserEntitytoUserBasicInfoDto</span><wbr><span class="parameters">(<a href="../entity/UserEntity.html" title="class in aor.fpbackend.entity">UserEntity</a>&nbsp;userEntity)</span></div>
<div class="block">Converts a UserEntity object to a UserBasicInfoDto object.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEntity</code> - the UserEntity containing the user data.</dd>
<dt>Returns:</dt>
<dd>a UserBasicInfoDto object populated with the data from the entity.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertUserEntityListToUserBasicInfoDtoList(java.util.List)">
<h3>convertUserEntityListToUserBasicInfoDtoList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dto/User/UserBasicInfoDto.html" title="class in aor.fpbackend.dto.User">UserBasicInfoDto</a>&gt;</span>&nbsp;<span class="element-name">convertUserEntityListToUserBasicInfoDtoList</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/UserEntity.html" title="class in aor.fpbackend.entity">UserEntity</a>&gt;&nbsp;userEntities)</span></div>
<div class="block">Converts a list of UserEntity objects to a list of UserBasicInfoDto objects.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEntities</code> - the list of UserEntity objects to be converted.</dd>
<dt>Returns:</dt>
<dd>a list of UserBasicInfoDto objects populated with the data from the UserEntity objects.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
